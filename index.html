<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Functions</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
</head>
<body onload="runScript(); RunTest.test1()">
<h1>Function Arguments</h1>
functions may have parameters defined within parentheses <i>( )</i>
<pre>
<code class="language-javascript">
const findHeroByPowerLevel = function (powerLevel) {
    console.log("searching for power level " + powerLevel)
}
</code>
</pre>

optional arguments with default values
<pre>
optional argument
<code class="language-javascript">
const findHeroByPowerLevel = (powerLevel = 1) => {
    console.log("searching " + JSON.stringify({powerLevel}) + " ")
}

findHeroByPowerLevel(3) // searching {"powerLevel":3}
findHeroByPowerLevel() // searching {"powerLevel":1}
</code>
catch additional arguments with the "rest parameter"
<code class="language-javascript">
const findHeroByPowerLevel = (powerLevel, ...more) => {
    console.log("searching " + JSON.stringify({powerLevel, more}) + " ")
}
findHeroByPowerLevel(3, "ASAP", {power: "flight"}) // searching {"powerLevel":3,"more":["ASAP",{"power":"flight"}]}
</code>
especially useful with the 'spread operator', that turns individual array entries to function arguments.
<code class="language-javascript">
const findHeroByPowerLevelAndPowers = (powerLevel, ...powers) => {
    console.log("searching " + JSON.stringify({powerLevel, powers}) + " ")
}
const requiredPowers = ["flight", "lightning"]
findHeroByPowerLevelAndPowers(3, ...requiredPowers, "additional power");
// searching {"powerLevel":3,"powers":["flight","lightning","additional power"]}
</code>
e.g. to concatenate arrays
<code class="language-javascript">
const lat = ["N", "S"]
const long = ["E", "W"]
const directions = [...lat, ...long]
console.log(directions)
// -> [ 'N', 'S', 'E', 'W' ]
</code>
</pre>

<h3>Your Task:</h3>
<span>edit the script block of this file and edit the 'addGuest' function</span><br>
<h2>Guest Database:</h2>
<div><ul class="guests"></ul>
</div>
<pre class="error"></pre>

<script type="application/javascript">

   const runScript = () => {
       addGuest()
       addGuest("Zoe", "fish", "nuts")
       // FIXME need to pass name argument
       addGuest("fish", "nuts")
   };

   // FIXME set default name
   function addGuest(name, ...allergies) {
       const showsGuest = document.createElement("li")
       showsGuest.className = "guest"
       showsGuest.textContent += `Name: ${name}`
       if (allergies.length > 0) {
           showsGuest.textContent +=  `, allergies: ${allergies.join(", ")}`
       }

       const showsGuests = document.getElementsByClassName("guests")[0];
       showsGuests.append(showsGuest)
   }

</script>
<script src="test.js"></script>

<div id="displayOnSuccess" hidden="hidden">
    <a href="./1.html">next</a>
</div>

<!-- fancy code highlighting -->
<script>hljs.highlightAll();</script>
</body>
</html>